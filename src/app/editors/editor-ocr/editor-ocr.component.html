<div fxLayout="column" fxFlexFill>
	<div fxLayout="row" class="app-toolbar app-view-metadata" *ngIf="switchable">
		<div fxFlex>
			<app-editor-switcher (onChangeEditorType)="changeEditorType($event)"
				[panelType]="panelType()"></app-editor-switcher>
		</div>
		<div>
			<button *ngIf="layout.type === 'repo'" mat-icon-button (click)="onPERO()"
				[matTooltip]="'button.pero' | translate">
				<mat-icon>history_edu</mat-icon>
			</button>
			<button mat-icon-button [disabled]="editting" (click)="onEdit()" [matTooltip]="'common.edit' | translate">
				<mat-icon>edit</mat-icon>
			</button>
			<button mat-icon-button [disabled]="!editting" (click)="onClear()"
				[matTooltip]="'common.cancel' | translate">
				<mat-icon>clear</mat-icon>
			</button>
			<button mat-icon-button [disabled]="!anyChange" (click)="onSave()" [matTooltip]="'button.save' | translate">
				<mat-icon>save</mat-icon>
			</button>
		</div>
	</div>
	<div fxFlex class="app-oa-y">
		<mat-progress-bar mode="indeterminate" *ngIf="state ==='loading'" class="app-progress-bar"></mat-progress-bar>
		<div class="app-editor-content" *ngIf="state !== 'loading'">
			<textarea *ngIf="editting" [(ngModel)]="ocr.content" (input)="onChange()"></textarea>
			<div *ngIf="!editting" class="app-text-content">{{ ocr.original }}</div>
		</div>
	</div>
</div>