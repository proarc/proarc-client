<div fxLayout="column" fxFlexFill>
  <div fxLayout="row" fxLayoutAlign="start center" class="app-toolbar app-view-description" [class.app-toolbar-disabled]="!viewOl">
    @if (!hideToolbar) {
      <div>
        <button mat-icon-button [class.app-active]="positionLock" [matTooltip]="'viewer.tooltip.' + (positionLock ? 'unlock' : 'lock') | translate" (click)="onSwitchLock()">
          <mat-icon>lock</mat-icon>
        </button>
        <button mat-icon-button [matTooltip]="'viewer.tooltip.zoomIn' | translate" (click)="zoomIn()">
          <mat-icon>zoom_in</mat-icon>
        </button>
        <button mat-icon-button [matTooltip]="'viewer.tooltip.zoomOut' | translate" (click)="zoomOut()">
          <mat-icon>zoom_out</mat-icon>
        </button>
        <button mat-icon-button [matTooltip]="'viewer.tooltip.fitToScreen' | translate" (click)="fitToScreen()">
          <mat-icon>crop_square</mat-icon>
        </button>
        <button mat-icon-button [matTooltip]="'viewer.tooltip.rotateRight' | translate" (click)="rotateRight()">
          <mat-icon>rotate_right</mat-icon>
        </button>
        @if (fullscreenAvailable && !fullscreenEnabled()) {
          <button mat-icon-button [matTooltip]="'viewer.tooltip.enterFullscreen' | translate" (click)="enterFullscreen()">
            <mat-icon>fullscreen</mat-icon>
          </button>
        }
        @if (fullscreenAvailable && fullscreenEnabled()) {
          <button mat-icon-button [matTooltip]="'viewer.tooltip.exitFullscreen' | translate" (click)="exitFullscreen()">
            <mat-icon>fullscreen_exit</mat-icon>
          </button>
        }
      </div>
    }
    <!-- <div *ngIf="!viewOl" >
    <mat-icon >image</mat-icon>
  </div> -->

</div>
<div fxFlex>
  @if (state ==='loading') {
    <mat-progress-bar mode="indeterminate" class="app-progress-bar"></mat-progress-bar>
  }
  <div class="app-pt-2 app-pb-2 app-h-100" >
    @if (!viewOl) {
      <div class="app-viewer-wrapper"><img  [src]="imageUrl" style="width: 100%;" (load)="state = 'success'" /></div>
    }
    <div [id]="idViewer" class="app-viewer-wrapper" (resized)="onResized($event)"></div>
  </div>
</div>
</div>