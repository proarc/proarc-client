<div class="app-toolbar" *ngIf="switchable">
  <div class="app-context">
    <button matTooltip="{{ 'editor.toolbar.editor_metadata' | translate }}"
      [class.app-inactive]="editorType != 'metadata'" (click)="editorType = 'metadata'"
      mat-icon-button>
      <span class="app-text-icon">M</span>
    </button>
    <!-- <button *ngIf="editor.selectedItem.isPage() && !editor.doubleRight"
      matTooltip="{{ 'editor.toolbar.editor_image' | translate }}"
      [class.app-inactive]="editorType != 'image'" (click)="editorType = 'image'"
      mat-icon-button>
      <mat-icon>image</mat-icon>
    </button> -->
    <!-- <button *ngIf="editor.selectedItem.isSong() && !editor.doubleRight"
      matTooltip="{{ 'editor.toolbar.editor_song' | translate }}"
      [class.app-inactive]="editorType != 'song'" (click)="editorType = 'song'"
      mat-icon-button>
      <mat-icon>audiotrack</mat-icon>
    </button> -->
    <!-- <button *ngIf="editor.selectedItem.canContainPdf() && !editor.doubleRight"
      matTooltip="{{ 'editor.toolbar.editor_pdf' | translate }}"
      [class.app-inactive]="editorType != 'pdf'" (click)="editorType = 'pdf'"
      mat-icon-button>
      <mat-icon>picture_as_pdf</mat-icon>
    </button> -->
    <button matTooltip="{{ 'editor.toolbar.editor_mods' | translate }}"
      [class.app-inactive]="editorType !== 'mods'" (click)="editorType = 'mods'"
      mat-icon-button>
      <mat-icon>code</mat-icon>
    </button>
    <button *ngIf="data[0] && data[0].isPage()" matTooltip="{{ 'editor.toolbar.editor_ocr' | translate }}"
      [class.app-inactive]="editorType != 'ocr'" (click)="editorType = 'ocr'"
      mat-icon-button>
      <mat-icon>title</mat-icon>
    </button>
    <button matTooltip="{{ 'editor.toolbar.editor_atm' | translate }}"
      [class.app-inactive]="editorType != 'atm'" (click)="editorType = 'atm'"
      mat-icon-button>
      <mat-icon>scanner</mat-icon>
    </button>
    <button *ngIf="config.showCommentEditor" matTooltip="{{ 'editor.toolbar.editor_comment' | translate }}"
      [class.app-inactive]="editorType != 'comment'" (click)="editorType = 'comment'"
      mat-icon-button>
      <mat-icon>format_quote</mat-icon>
    </button>

    <!-- <button *ngIf="!editor.doubleRight && editor.mode == 'children'" (click)="editor.enterDoubleRight()"
      mat-icon-button matTooltip="{{ 'editor.toolbar.editor_enter_double_right' | translate }}">
      <mat-icon>keyboard_arrow_right</mat-icon>
    </button> -->
  </div>

</div>

<div class="app-content" [ngSwitch]="editorType">
  <app-editor-structure *ngSwitchCase="'structure'" [items]="data"></app-editor-structure>
  <!-- <app-editor-children *ngSwitchCase="'children'" [items]="data"></app-editor-children> -->
  <app-viewer *ngSwitchCase="'image'" [pid]="pid"></app-viewer>
  <app-editor-mods *ngSwitchCase="'mods'" [item]="data[0]"></app-editor-mods>
  <app-editor-ocr *ngSwitchCase="'ocr'" [pid]="pid"></app-editor-ocr>
  <app-editor-comment *ngSwitchCase="'comment'" [pid]="pid"></app-editor-comment>
  <app-editor-atm *ngSwitchCase="'atm'" [pid]="pid"></app-editor-atm>
  <!-- <app-editor-metadata *ngSwitchCase="'metadata'" [pid]="pid"></app-editor-metadata> -->


  <ng-container *ngSwitchCase="'metadata'">
    <ng-container *ngIf="data[0]">
      <app-editor-page *ngIf="data[0].isPage()" [model]="data[0].model" [pid]="pid" > </app-editor-page>
      <app-editor-song *ngIf="data[0].isSong()" [model]="data[0].model" [pid]="pid"> </app-editor-song>
      <app-editor-chronicle *ngIf="data[0].isChronicle()" [pid]="data[0].pid"></app-editor-chronicle>
      <app-editor-bdm *ngIf="data[0].isBdm()" [pid]="data[0].pid"></app-editor-bdm>
      <app-editor-metadata *ngIf="!data[0].isPage() && !data[0].isChronicle() && !data[0].isBdm()" 
          [item]="data[0]" [pid]="pid">
      </app-editor-metadata>
    </ng-container>
  </ng-container>

  <app-editor-geo *ngSwitchCase="'geo'" [pid]="pid"></app-editor-geo>

  <!-- <app-editor-metadata *ngIf="editor.leftEditorType == 'geo'" [pid]="editor.left.pid"></app-editor-metadata> -->

</div>