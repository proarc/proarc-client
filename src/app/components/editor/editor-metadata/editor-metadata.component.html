<div fxLayout="column" fxFlexFill>
  <div fxLayout="row" fxLayoutAlign="start center" class="app-toolbar app-view-description">
		<div fxFlex>
			<div class="app-toolbar-label">
				<span class="app-text">{{ 'editor.metadata.editor_title' | translate }}</span>
				<ng-container *ngIf="metadata">
					<span class="app-pipe"></span>
					<span class="app-text-supplement">{{ metadata.standard }}</span>
				</ng-container>	
			</div>
		</div>
		<div>
			<ng-container *ngIf="!notSaved">
				<button  mat-icon-button (click)="onLoadFromCatalog()" [matTooltip]="'metadata.catalog' | translate">
					<mat-icon>local_library</mat-icon>
				</button>
				<button mat-icon-button [matTooltip]="'common.save' | translate" (click)="onSave()" >
					<mat-icon>save</mat-icon>
				</button>
			</ng-container>
		</div>
	</div>
	<div fxFlex>
		<mat-progress-bar mode="indeterminate" *ngIf="state ==='loading'" class="app-progress-bar"></mat-progress-bar>
		<div class="app-editor-content" *ngIf="visible && metadata && state !=='loading'">
			<app-editor-title *ngIf="available('titleInfo')" [field]="metadata.getField('titleInfo')"></app-editor-title>
			<app-editor-publisher *ngIf="available('originInfo')" [field]="metadata.getField('originInfo')"></app-editor-publisher>
			<app-editor-author *ngIf="available('name')" [field]="metadata.getField('name')" [model]="model"></app-editor-author>
			<app-editor-location *ngIf="available('location')" [field]="metadata.getField('location')"></app-editor-location>
			<app-editor-subject *ngIf="available('subject')" [field]="metadata.getField('subject')" [model]="model"></app-editor-subject>
			<app-editor-part *ngIf="available('part')" [field]="metadata.getField('part')"></app-editor-part>
			<app-editor-language *ngIf="available('language')" [field]="metadata.getField('language')"></app-editor-language>
			<app-editor-abstract *ngIf="available('abstract')" [field]="metadata.getField('abstract')"></app-editor-abstract>
			<app-editor-physical *ngIf="available('physicalDescription')" [field]="metadata.getField('physicalDescription')"></app-editor-physical>
			<app-editor-note *ngIf="available('note')" [field]="metadata.getField('note')"></app-editor-note>
			<app-editor-genre *ngIf="available('genre')" [field]="metadata.getField('genre')"></app-editor-genre>
			<app-editor-classification *ngIf="available('classification')" [field]="metadata.getField('classification')"></app-editor-classification>
			<app-editor-resource *ngIf="available('typeOfResource')" [field]="metadata.getField('typeOfResource')"></app-editor-resource>
			<app-editor-tableOfContents *ngIf="available('tableOfContents')" [field]="metadata.getField('tableOfContents')"></app-editor-tableOfContents>
			<app-editor-identifier *ngIf="available('identifier')" [field]="metadata.getField('identifier')" [model]="model"></app-editor-identifier>
			<app-editor-recordInfo *ngIf="available('recordInfo')" [field]="metadata.getField('recordInfo')"></app-editor-recordInfo>
			<app-editor-relatedItem *ngIf="available('relatedItem')" [field]="metadata.getField('relatedItem')" [model]="model"></app-editor-relatedItem>
		</div>
	</div>
</div>


<!-- to delete after testing
	<div class="app-editor-content-wrapper">
    <div class="app-editor-toolbar">
        <div class="app-label">{{ 'editor.metadata.editor_title' | translate }}
            <ng-container *ngIf="metadata">
                <span class="app-label-circle"></span>
                <span class="app-label-sub">{{ metadata.standard }}</span>
            </ng-container>
        </div>
        <div class="app-actions-right" *ngIf="!notSaved">
            <button class="app-action" (click)="onLoadFromCatalog()" [matTooltip]="'metadata.catalog' | translate" mat-icon-button>
                <mat-icon>local_library</mat-icon>
            </button>
            <div class="app-divider"></div>
            <button class="app-action" matTooltip="{{ 'common.save' | translate }}" (click)="onSave()" mat-icon-button>
                <mat-icon>save</mat-icon>
            </button>
        </div>
    </div>

<div class="app-editor-content" *ngIf="visible && metadata">
    <app-editor-title *ngIf="available('titleInfo')" [field]="metadata.getField('titleInfo')"></app-editor-title>
    <app-editor-publisher *ngIf="available('originInfo')" [field]="metadata.getField('originInfo')"></app-editor-publisher>
    <app-editor-author *ngIf="available('name')" [field]="metadata.getField('name')" [model]="model"></app-editor-author>
    <app-editor-location *ngIf="available('location')" [field]="metadata.getField('location')"></app-editor-location>
    <app-editor-subject *ngIf="available('subject')" [field]="metadata.getField('subject')" [model]="model"></app-editor-subject>
    <app-editor-part *ngIf="available('part')" [field]="metadata.getField('part')"></app-editor-part>
    <app-editor-language *ngIf="available('language')" [field]="metadata.getField('language')"></app-editor-language>
    <app-editor-abstract *ngIf="available('abstract')" [field]="metadata.getField('abstract')"></app-editor-abstract>
    <app-editor-physical *ngIf="available('physicalDescription')" [field]="metadata.getField('physicalDescription')"></app-editor-physical>
    <app-editor-note *ngIf="available('note')" [field]="metadata.getField('note')"></app-editor-note>
    <app-editor-genre *ngIf="available('genre')" [field]="metadata.getField('genre')"></app-editor-genre>
    <app-editor-classification *ngIf="available('classification')" [field]="metadata.getField('classification')"></app-editor-classification>
    <app-editor-resource *ngIf="available('typeOfResource')" [field]="metadata.getField('typeOfResource')"></app-editor-resource>
    <app-editor-tableOfContents *ngIf="available('tableOfContents')" [field]="metadata.getField('tableOfContents')"></app-editor-tableOfContents>
    <app-editor-identifier *ngIf="available('identifier')" [field]="metadata.getField('identifier')" [model]="model"></app-editor-identifier>
    <app-editor-recordInfo *ngIf="available('recordInfo')" [field]="metadata.getField('recordInfo')"></app-editor-recordInfo>
    <app-editor-relatedItem *ngIf="available('relatedItem')" [field]="metadata.getField('relatedItem')" [model]="model"></app-editor-relatedItem>
</div>

<mat-spinner *ngIf="state === 'loading'"
          [strokeWidth]="5"
          [diameter]="60"
          class="center-spinner">
</mat-spinner>



</div>
 -->