<h1 mat-dialog-title>{{ "dialog.importDialog.title" | translate }}</h1>
<div mat-dialog-content>
	<ng-container *ngIf="state == 'loading'">
		<mat-progress-bar *ngIf="count > 0" color="primary" mode="buffer" [value]="(done/count) * 100" [bufferValue]="0"></mat-progress-bar>
		<div *ngIf="count === 0">{{ "dialog.importDialog.messagePreparing" | translate }}</div>
		<div *ngIf="count > 0" [innerHtml]="'dialog.importDialog.messageLoading' | translate: { done: done, count: count }"><!-- {{ "dialog.importDialog.messageLoading" | translate: { done: done, count: count  } }} --></div>
	</ng-container>

	<mat-card class="app-alert app-success" *ngIf="state=='success'">
		<mat-icon>info</mat-icon> {{ "dialog.importDialog.alert.success" | translate }}
	</mat-card>

	<mat-card class="app-alert app-warn" *ngIf="state=='failure'">
		<mat-icon>report</mat-icon> {{ "dialog.importDialog.alert.failure" | translate }}
		<div>{{ failureMessage }}</div>
	</mat-card>
</div>

<div mat-dialog-actions cdk-focus-start>
	<button *ngIf="state == 'success'" mat-flat-button color="primary" mat-dialog-close="open">{{ 'button.continueToPrepareMetadata' | translate }}</button>
	<button mat-flat-button mat-dialog-close="close" >{{ 'button.close' | translate }}</button>
</div>