<div class="app-fxLayout app-column app-fill"  [class.app-form-highlighting]="formHighlighting">
  <h1 mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>{{ title | translate }}: {{'model.' + data.model | translate }}</h1>
  <div mat-dialog-content class="app-fxFlex app-clean-max-height">
    @if (inited) {
      @if (isPage()) {
      <app-editor-page [model]="data.model" [notSaved]="true" [pid]="data.pid" [panel]="panel"></app-editor-page>
      } @else if(isAudioPage()) {
      <app-editor-audioPage [model]="data.model" [notSaved]="true" [pid]="data.pid" [panel]="panel"></app-editor-audioPage>

      } @else if(metadata) {
      <app-editor-metadata 
        [notSaved]="true"
        [model]="data.model"
        [pid]="data.pid" 
        [data]="metadata"
        [validating]="validating" 
        [panel]="panel"></app-editor-metadata>
      }
    }
  </div>

  <div mat-dialog-actions cdkFocusRegionstart>
    @if (data.isWorkFlow) {
    <button matButton="filled" (click)="onSave(false)">{{ 'button.save' | translate }}</button>
    } @else {
    <button matButton="filled" (click)="onSave(true)">{{ 'button.createAndGoToObject' | translate }}</button>
    <button matButton="filled" (click)="onSave(false)">{{ 'button.create' | translate }}</button>

    }
    <button mat-flat-button (click)="onClose()">{{ 'button.close' | translate }}</button>
  </div>
</div>