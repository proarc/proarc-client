<div class="app-fxLayout app-column app-fill"  [class.app-form-highlighting]="formHighlighting">
  <h1 mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle>{{ title | translate }}: {{'model.' + data.model | translate }}</h1>
  <div mat-dialog-content class="app-fxFlex app-clean-max-height">
    <ng-container *ngIf="inited">
      <app-editor-page *ngIf="isPage()" [model]="data.model" [notSaved]="true" [pid]="data.pid" [panel]="panel"></app-editor-page>
      <app-editor-audioPage *ngIf="isAudioPage()" [model]="data.model" [notSaved]="true" [pid]="data.pid" [panel]="panel"></app-editor-audioPage>
      <app-editor-metadata *ngIf="!isPage() && metadata" 
        [notSaved]="true"
        [model]="data.model"
        [pid]="data.pid" 
        [data]="metadata"
        [validating]="validating" 
        [panel]="panel"></app-editor-metadata>
    </ng-container>
  </div>
  
  <div mat-dialog-actions cdkFocusRegionstart>
    <button mat-flat-button *ngIf="!data.isWorkFlow" color="primary" (click)="onSave(true)">{{ 'button.createAndGoToObject' | translate }}</button>
    <button mat-flat-button *ngIf="!data.isWorkFlow" color="primary" (click)="onSave(false)">{{ 'button.create' | translate }}</button>
    <button mat-flat-button *ngIf="data.isWorkFlow" color="primary" (click)="onSave(false)">{{ 'button.save' | translate }}</button>
    <button mat-flat-button (click)="onClose()">{{ 'button.close' | translate }}</button>
  </div>
</div>